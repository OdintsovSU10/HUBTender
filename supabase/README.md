# Supabase Database Structure

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
supabase/
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îî‚îÄ‚îÄ prod.sql        # üö® –ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –ü–†–ê–í–î–´ –¥–ª—è —Å—Ö–µ–º—ã –ë–î
‚îú‚îÄ‚îÄ migrations/         # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ functions/         # Edge Functions (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
‚îî‚îÄ‚îÄ seeds/            # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–í–°–ï–ì–î–ê** –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `schemas/prod.sql` –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö!

–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ:
- –¢–∞–±–ª–∏—Ü–∞—Ö –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- –¢–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö –∏ ENUM
- –§—É–Ω–∫—Ü–∏—è—Ö –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö (views)
- –¢—Ä–∏–≥–≥–µ—Ä–∞—Ö
- –ò–Ω–¥–µ–∫—Å–∞—Ö

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `organizations` - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `tenders` - –¢–µ–Ω–¥–µ—Ä—ã
- `boq_sections` - –†–∞–∑–¥–µ–ª—ã —Å–º–µ—Ç—ã
- `boq_positions` - –ü–æ–∑–∏—Ü–∏–∏ —Å–º–µ—Ç—ã
- `materials` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- `works` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–±–æ—Ç
- `audit_log` - –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞

## üîß –ö–æ–º–∞–Ω–¥—ã

```bash
# –≠–∫—Å–ø–æ—Ä—Ç —Å—Ö–µ–º—ã –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run db:schema

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
supabase db push

# –°–±—Ä–æ—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
supabase db reset
```

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –µ—Å—Ç—å:
```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```